{% extends "layout.html" %}

{% block title %}Editar Jinete{% endblock %}

{% block head %}
    {{ super() }}
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
{% endblock %}

{% block content %}
    {{ super() }}
    <div>
        <h1 class="text-center">Editar Jinete</h1>
        
        <form action="{{ url_for('jya.editar_jinete', jinete_id=jinete.id) }}" method="POST">

            <h2><strong> DATOS PERSONALES DEL JINETE O AMAZONA </strong></h2>
                
            <div>
                <label for="nombre" class="form-element">Nombre/s:</label>
                {{ form.nombre }}
            </div>
            
            <div>
                <label for="apellido" class="form-element">Apellido/s:</label>
                {{ form.apellido }}
            </div>
    
            <div>
                <label for="dni" class="form-element">DNI:</label>
                {{ form.dni }}
            </div>
            
            <div>
                <label for="edad" class="form-element">Edad:</label>
                {{ form.edad }}
            </div>
    
            <div>
                <label for="fecha_nacimiento" class="form-element">Fecha de Nacimiento:</label>
                {{ form.fecha_nacimiento }}
            </div>
            
            <div><strong> Lugar de nacimiento: </strong></div>

            <div>
                <label for="provincia_nacimiento" class="form-element">Provincia:</label>
                {{ form.domicilio_provincia }}
            </div>

            <div>
                <label for="localidad_nacimiento" class="form-element">Localidad:</label>
                {{ form.domicilio_localidad }}
            </div>

    
            <div><strong> Domicilio actual: </strong></div>
            <div>
                <label for="domicilio_calle" class="form-element">Calle:</label>
                {{ form.domicilio_calle }}
            </div>
            
            <div>
                <label for="domicilio_numero" class="form-element">Numero:</label>
                {{ form.domicilio_numero }}
            </div>
            
            <div>
                <label for="domicilio_departamento" class="form-element">Departamento:</label>
                {{ form.domicilio_departamento }}
            </div>
            
            <div>
                <label for="domicilio_piso" class="form-element">Piso:</label>
                {{ form.domicilio_piso }}
            </div>
            
            <div>
                <label for="domicilio_provincia" class="form-element">Provincia:</label>
                {{ form.domicilio_provincia }}
            </div>
            
            <div>
                <label for="domicilio_localidad" class="form-element">Localidad:</label>
                {{ form.domicilio_localidad }}
            </div>
    
            <div>
                <label for="telefono" class="form-element">Teléfono actual:</label>
                {{ form.telefono }}
            </div>
    
            <div>
                <label for="contacto_emergencia_nombre" class="form-element">Nombre contacto de emergencia:</label>
                {{ form.contacto_emergencia_nombre }}
            </div>
            
            <div>
                <label for="contacto_emergencia_apellido" class="form-element">Apellido contacto de emergencia:</label>
                {{ form.contacto_emergencia_apellido }}
            </div>
            
            <div>
                <label for="contacto_emergencia_telefono" class="form-element">Teléfono contacto de Emergencia:</label>
                {{ form.contacto_emergencia_telefono }}
            </div>
    
            <div>
                <label for="becado" class="form-element">Becado:</label>
                <input type="radio" id="becado_si" name="becado" value="si" {{ 'checked' if form.becado.data else '' }}>
                <label for="becado_si">Sí</label>
                <input type="radio" id="becado_no" name="becado" value="no" {{ 'checked' if not form.becado.data else '' }}>
                <label for="becado_no">No</label>
            </div>
    
            <div>
                <label for="observaciones" class="form-element">observaciones:</label>
                {{ form.observaciones_becado() }}
            </div>
    
            <div>
                <label for="certificado_discapacidad" class="form-element">
                    ¿Posee certificado<br>
                    de discapacidad?
                </label>
                <input type="radio" id="certificado_si" name="certificado" value="si" {{ 'checked' if form.certificado_discapacidad.data else '' }}>
                <label for="certificado_si">Sí</label>
                <input type="radio" id="certificado_no" name="certificado" value="no" {{ 'checked' if not form.certificado_discapacidad.data else '' }}>
                <label for="certificado_no">No</label>
            </div>
    
            <script>
                document.addEventListener('DOMContentLoaded', function () { //funcion para deshabilitar el tipo de diagnostico en caso de no tener certificado.
                    const radioButtons = document.querySelectorAll('input[name="certificado"]');
                    const selectDiagnostico = document.getElementById('diagnostico');
                    const selectOtro = document.getElementById('otro');
    
                
                    radioButtons.forEach(radio => {
                        radio.addEventListener('change', function() {
                            // Habilita el desplegable si la opción "Sí" está seleccionada
                            if (document.getElementById('certificado_si').checked) {
                                selectDiagnostico.disabled = false;
                                selectOtro.disabled = false;
                            } else {
                                selectDiagnostico.disabled = true;
                                selectOtro.disabled = true;
                            }
                        });
                    });
                });
            </script>
            
            <div>
                <label for="diagnostico" class="form-element">tipo diagnostico:</label>
                {{ form.diagnostico }}
            </div>
    
            <div>
                <label for="otro" class="form-element">Si es otro indique cuál:</label>
                {{ form.otro }}
            </div>
    
            <div class="form-group">
                <label for="tipos_discapacidad">Tipos de Discapacidad:</label>
                <div class="checkbox-group">
                    {% for subfield in form.tipos_discapacidad %}
                    <input type="checkbox" id="tipo_{{ loop.index0 }}" name="tipos_discapacidad"
                        value="{{ subfield.data }}" {% if subfield.data in form.tipos_discapacidad.data %} checked {% endif %}>
                    <label for="tipo_{{ loop.index0 }}">{{ subfield.label.text }}</label>
                    {% endfor %}
                </div>
            </div>
    
            <div>
                <label for="asignacion_familiar" class="form-element">¿Percibe alguna asignación familiar?</label>
                <input type="radio" id="asignacion_si" name="asignacion" value="si" {{ 'checked' if form.asignacion_familiar.data else '' }}>
                <label for="asignacion_si">Sí</label>
                <input type="radio" id="asignacion_no" name="asignacion" value="no" {{ 'checked' if not form.asignacion_familiar.data else '' }}>
                <label for="asignacion_no">No</label>
            </div>
    
            <div>
                <label for="tipo_asignacion" class="form-element">Tipo de asignación:</label>
                {{ form.tipo_asignacion(id="tipo_asignacion") }}
            </div>
    
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const radioButtons = document.querySelectorAll('input[name="asignacion"]');
                    const selectAsignacion = document.getElementById('tipo_asignacion'); // Asegúrate de que este ID sea correcto
                
                    radioButtons.forEach(radio => {
                        radio.addEventListener('change', function() {
                            // Habilita o deshabilita el elemento según si la opción "Sí" está seleccionada
                            selectAsignacion.disabled = !document.getElementById('asignacion_si').checked;
                        });
                    });
                });
            </script>
    
            <div>
                <label for="beneficiario_pension" class="form-element">¿Es beneficiario de alguna pensión?</label>
                <input type="radio" id="pension_si" name="beneficiario_pension" value="si" {{ 'checked' if form.beneficiario_pension.data else '' }}>
                <label for="pension_si">Sí</label>
                <input type="radio" id="pension_no" name="beneficiario_pension" value="no" {{ 'checked' if not form.beneficiario_pension.data else '' }}>
                <label for="pension_no">No</label>
            </div>
    
            <div>
                <label for="pension" class="form-element">tipo pension:</label>
                {{ form.pension(id="tipo_pension") }}
            </div>
    
            <script>
                document.addEventListener('DOMContentLoaded', function () {
                    const radioButtons = document.querySelectorAll('input[name="beneficiario_pension"]');
                    const selectPension = document.getElementById('tipo_pension');
                
                    radioButtons.forEach(radio => {
                        radio.addEventListener('change', function() {
                            // Habilita o deshabilita el elemento según si la opción "Sí" está seleccionada
                            selectPension.disabled = !document.getElementById('pension_si').checked;
                        });
                    });
                });
            </script>
    
            <h2><strong> SITUACIÓN PREVISIONAL </strong></h2>
    
            <div>
                <label for="obra_social" class="form-element">Obra Social:</label>
                {{ form.obra_social }}
            </div>
            
            <div>
                <label for="nro_afiliado" class="form-element">Numero afiliado:</label>
                {{ form.nro_afiliado }}
            </div>
    
            <div>
                <label for="curatela" class="form-element"> ¿Posee curatela? </label>
                <input type="radio" id="curatela_si" name="curatela" value="si" {{ 'checked' if form.curatela.data else '' }}>
                <label for="curatela_si">Sí</label>
                <input type="radio" id="curatela_no" name="curatela" value="no" {{ 'checked' if not form.curatela.data else '' }}>
                <label for="curatela_no">No</label>
            </div>
            
            <div>
                <label for="observaciones" class="form-element">observaciones:</label>
                {{ form.observaciones }}
            </div>
    
            <h2><strong> INSTITUCIÓN ESCOLAR a la que CONCURRE ACTUALMENTE </strong></h2>
    
            <div>
                <label for="nombre_institucion" class="form-element">Nombre de la Institución:</label>
                {{ form.nombre_institucion }}
            </div>
    
            <div>
                <label for="telefono_institucion" class="form-element">Teléfono:</label>
                {{ form.telefono_institucion }}
            </div>
    
            <div>
                <label for="domicilio_calle" class="form-element">Calle:</label>
                {{ form.domicilio_calle }}
            </div>
            
            <div>
                <label for="domicilio_numero" class="form-element">Numero:</label>
                {{ form.domicilio_numero }}
            </div>
            
            <div>
                <label for="domicilio_provincia" class="form-element">Provincia:</label>
                {{ form.domicilio_provincia }}
            </div>
            
            <div>
                <label for="domicilio_localidad" class="form-element">Localidad:</label>
                {{ form.domicilio_localidad }}
            </div>
    
            <div>
                <label for="grado" class="form-element">Grado / año actual:</label>
                {{ form.grado }}
            </div>
    
            <div>
                <label for="observaciones_institucion" class="form-element">Observaciones:</label>
                {{ form.observaciones }}
            </div>
    
            <div>
                <label for="profesionales" class="form-element">PROFESIONALES que lo ATIENDEN:</label>
                {{ form.profesionales }}
            </div>

            <h2><strong> TRABAJO EN NUESTRA INSTITUCIÓN: </strong></h2>

            <div>
                <label for="trabajo_institucional" class="form-element">Propuesta de trabajo Institucional:</label>
                {{ form.trabajo_institucional(id="trabajo_institucional") }}
            </div>
    
            <div>
                <label for="condicion" class="form-element">Condición:</label>
                <input type="radio" id="condicion_si" name="condicion" value="si" {{ 'checked' if form.condicion.data else '' }}>
                <label for="condicion_si">Regular</label>
                <input type="radio" id="condicion_no" name="condicion" value="no" {{ 'checked' if not form.condicion.data else '' }}>
                <label for="condicion_no">De baja</label>
            </div>
    
            <div>
                <label for="sede" class="form-element">SEDE:</label>
                {{ form.sede }}
            </div>
    
            <div class="form-group">
                <label for="dia">DÍA:</label>
                <div class="checkbox-group">
                    {% for d in form.dia %}
                        <input type="checkbox" id="dia_{{ loop.index0 }}" name="{{ d.name }}" value="{{ d.data }}"
                            {{ 'checked' if d.data in form.dia.data else '' }}>
                        <label for="dia_{{ loop.index0 }}">{{ d.label.text }}</label>
                    {% endfor %}
                </div>
            </div>
    
            <div>
                <button type="submit" style="margin: 10px;" class="btn btn-submit">Guardar Cambios</button>
                <a href="{{ url_for('jya.listar_jinetes') }}" class="btn btn-cancel">Cancelar</a>
            </div>
        </form>
    </div>
{% endblock %}