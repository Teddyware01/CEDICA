{% extends "layout.html" %}

{% block title %} Listado de Pagos {% endblock %}

{% block content %}
    <h1>Listado de Pagos</h1>
    <div class="actions">
        <a href="{{ url_for('pagos.registrar_pago') }}" class="btn btn-add">Registrar Pago</a>
    </div>
    
    <!-- Formulario de búsqueda -->
    <form method="GET" action="{{ url_for('pagos.buscar_pagos') }}" class="mb-3">
        <div class="form-group">
            <label for="tipo_pago">Tipo de Pago:</label>
            <select id="tipo_pago" name="tipo_pago" class="form-control">
                <option value="">Todos</option>
                <option value="Honorarios">Honorarios</option>
                <option value="Proveedor">Proveedor</option>
                <option value="Gastos Varios">Gastos Varios</option>
            </select>
        </div>
        <div class="form-group">
            <label for="fecha_inicio">Fecha Inicio:</label>
            <input type="date" id="fecha_inicio" name="fecha_inicio" class="form-control">
        </div>
        <div class="form-group">
            <label for="fecha_fin">Fecha Fin:</label>
            <input type="date" id="fecha_fin" name="fecha_fin" class="form-control">
        </div>
        <div class="form-group">
            <label for="orden">Ordenar por Fecha:</label>
            <select id="orden" name="orden" class="form-control">
                <option value="asc">Ascendente</option>
                <option value="desc">Descendente</option>
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Buscar</button>
    </form>

    <table class="table">
        <thead>
            <tr>
                <th>Beneficiario</th>
                <th>Monto</th>
                <th>Fecha de Pago</th>
                <th>Tipo de Pago</th>
                <th>Descripción</th>
            </tr>
        </thead>
        <tbody>
            {% for pago in pagos_realizado %}
            <tr>
                <td>{{ pago.beneficiario }}</td>
                <td>{{ pago.monto }}</td>
                <td>{{ pago.fecha_pago.strftime('%Y-%m-%d') }}</td>
                <td>{{ pago.tipo_pago }}</td>
                <td>{{ pago.descripcion }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
